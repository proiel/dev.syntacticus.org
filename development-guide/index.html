<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Development guide | Syntacticus</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/assets/img/logo.png">
    <meta name="description" content="Resources for developers using the Syntacticus treebank">
    
    <link rel="preload" href="/assets/css/0.styles.5be624d7.css" as="style"><link rel="preload" href="/assets/js/app.e520ee65.js" as="script"><link rel="preload" href="/assets/js/2.6b092d03.js" as="script"><link rel="preload" href="/assets/js/9.720f233a.js" as="script"><link rel="prefetch" href="/assets/js/10.69c201ce.js"><link rel="prefetch" href="/assets/js/11.1ecd9b02.js"><link rel="prefetch" href="/assets/js/12.08e94cc3.js"><link rel="prefetch" href="/assets/js/13.b6a8c739.js"><link rel="prefetch" href="/assets/js/14.17b53637.js"><link rel="prefetch" href="/assets/js/3.4795b389.js"><link rel="prefetch" href="/assets/js/4.48af2b25.js"><link rel="prefetch" href="/assets/js/5.925cb319.js"><link rel="prefetch" href="/assets/js/6.4e53a11e.js"><link rel="prefetch" href="/assets/js/7.c4de925d.js"><link rel="prefetch" href="/assets/js/8.1a5b4582.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5be624d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="Syntacticus" class="logo"> <span class="site-name can-hide">Syntacticus</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  About Syntacticus
</a></div><div class="nav-item"><a href="/annotation-guide/" class="nav-link">
  Annotation guide
</a></div><div class="nav-item"><a href="/development-guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Development guide
</a></div><div class="nav-item"><a href="http://syntacticus.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Treebank browser
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/mlj/syntacticus.org" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  About Syntacticus
</a></div><div class="nav-item"><a href="/annotation-guide/" class="nav-link">
  Annotation guide
</a></div><div class="nav-item"><a href="/development-guide/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Development guide
</a></div><div class="nav-item"><a href="http://syntacticus.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Treebank browser
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/mlj/syntacticus.org" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Development guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/development-guide/#introduction" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#software" class="sidebar-link">Software</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#apis-and-libraries" class="sidebar-link">APIs and libraries</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#manipulating-proiel-xml-treebank-files" class="sidebar-link">Manipulating PROIEL XML treebank files</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development-guide/#converting-proiel-xml-files-to-other-file-formats" class="sidebar-link">Converting PROIEL XML files to other file formats</a></li><li class="sidebar-sub-header"><a href="/development-guide/#validating-proiel-xml-files" class="sidebar-link">Validating PROIEL XML files</a></li><li class="sidebar-sub-header"><a href="/development-guide/#merging-filtering-and-upgrading-proiel-xml-files" class="sidebar-link">Merging, filtering and upgrading PROIEL XML files</a></li><li class="sidebar-sub-header"><a href="/development-guide/#searching-for-text" class="sidebar-link">Searching for text</a></li></ul></li><li><a href="/development-guide/#syntactic-annotation-model" class="sidebar-link">Syntactic annotation model</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#the-proiel-xml-format" class="sidebar-link">The PROIEL XML format</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#textual-metadata" class="sidebar-link">Textual metadata</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development-guide/#chronological-data" class="sidebar-link">Chronological data</a></li><li class="sidebar-sub-header"><a href="/development-guide/#languages-and-dialects" class="sidebar-link">Languages and dialects</a></li></ul></li><li><a href="/development-guide/#annotation-metadata" class="sidebar-link">Annotation metadata</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development-guide/#annotation-status" class="sidebar-link">Annotation status</a></li></ul></li><li><a href="/development-guide/#lemma-part-of-speech-and-morphology" class="sidebar-link">Lemma, part of speech and morphology</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development-guide/#part-of-speech-tags" class="sidebar-link">Part of speech tags</a></li><li class="sidebar-sub-header"><a href="/development-guide/#morphology-tags" class="sidebar-link">Morphology tags</a></li></ul></li><li><a href="/development-guide/#dependency-relations" class="sidebar-link">Dependency relations</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#information-structure" class="sidebar-link">Information structure</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#alignments" class="sidebar-link">Alignments</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#references-to-external-data" class="sidebar-link">References to external data</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#representation-of-textual-values" class="sidebar-link">Representation of textual values</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#managing-proiel-annotator" class="sidebar-link">Managing PROIEL Annotator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development-guide/#importing-texts" class="sidebar-link">Importing texts</a></li><li class="sidebar-sub-header"><a href="/development-guide/#exporting-texts" class="sidebar-link">Exporting texts</a></li><li class="sidebar-sub-header"><a href="/development-guide/#deleting-texts" class="sidebar-link">Deleting texts</a></li><li class="sidebar-sub-header"><a href="/development-guide/#older-versions" class="sidebar-link">Older versions</a></li></ul></li><li><a href="/development-guide/#exporting-and-importing-other-data" class="sidebar-link">Exporting and importing other data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development-guide/#inflections" class="sidebar-link">Inflections</a></li><li class="sidebar-sub-header"><a href="/development-guide/#notes" class="sidebar-link">Notes</a></li><li class="sidebar-sub-header"><a href="/development-guide/#older-versions-2" class="sidebar-link">Older versions</a></li></ul></li><li><a href="/development-guide/#proiel-morphology-reassign" class="sidebar-link">proiel:morphology:reassign</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-morphology-force-manual-tags" class="sidebar-link">proiel:morphology:force_manual_tags</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-history-prune-attribute" class="sidebar-link">proiel:history:prune:attribute</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-validate" class="sidebar-link">proiel:validate</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-notes-import" class="sidebar-link">proielðŸŽ¶import</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-dependency-alignments-import" class="sidebar-link">proiel:dependency_alignments:import</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-semantic-tags-import-and-proiel-semantic-tags-export" class="sidebar-link">proiel:semantic_tags:import and proiel:semantic_tags:export</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-inflections-import" class="sidebar-link">proiel:inflections:import</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-inflections-export" class="sidebar-link">proiel:inflections:export</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-bilingual-dictionary-create" class="sidebar-link">proiel:bilingual_dictionary:create</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/development-guide/#proiel-token-alignments-set" class="sidebar-link">proiel:token_alignments:set</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Syntacticus is an umbrella project for several treebanks that deal specifically with the older stages of Indo-European languages. You can browse these treebanks using our <a href="http://syntacticus.org" target="_blank" rel="noopener noreferrer">end-user front end<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The raw data sets are produced, curated and hosted separatedly by each constituent treebank. The software and infrastructure that is used to create the treebanks, analyse them and browse them is shared.</p> <p>Most of the software, as well as the annotation guidelines, were developed by the PROIEL Treebank, which is now one of the constituent treebanks of Syntacticus. You'll therefore see 'PROIEL' used in many places, especially in the name of software components. Whenever you see it, feel free to substitute Syntacticus!</p> <p>Everything related to Syntacticus is open-source and freely available. Most of our software is released under the MIT license; some older parts are GPL licensed. The linguistic data itself and our documenation are available under various CC BY-SA licenses. The details differ between individual resources so check carefully before using. Note in particular that some of our linguistic resources have limitations on commerical use. We also greatly appreciate it if you follow standard academic practice and cite relevant publications if you use any our data.</p> <p>The <em>PROIEL treebanking framework</em> consists of an <a href="http://dev.syntacticus.org/annotation-guide/" target="_blank" rel="noopener noreferrer">annotation scheme<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, an XML-based interchange format and a set of tools for creating and manipulating treebanks.</p> <p>The three main tools of the framework are</p> <ol><li><a href="https://github.com/mlj/proiel-webapp" target="_blank" rel="noopener noreferrer">PROIEL Annotator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, a web-based tool for creating and annotating PROIEL treebanks,</li> <li><a href="http://proiel.johndal.com" target="_blank" rel="noopener noreferrer">PROIEL Reader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, a web-based treebank browser, and</li> <li><a href="https://github.com/proiel/proiel" target="_blank" rel="noopener noreferrer">PROIEL Library<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, a Ruby-based library for manipulating PROIEL treebanks, whose most frequently used functionality is exposed by a <a href="https://github.com/proiel/proiel-cli" target="_blank" rel="noopener noreferrer">command-line interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ol> <p>If you want to use an existing PROIEL treebank that you have obtained, you will only need to install the PROIEL Library.</p> <p>If you want to create a new PROIEL treebank and set up your own infrastructure for this, you will need both PROIEL Annotator and PROIEL Reader. You should start by reading the installation instructions in the <a href="https://github.com/mlj/proiel-webapp/wiki" target="_blank" rel="noopener noreferrer">PROIEL Reader wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The PROIEL treebanking framework is currently used by the following treebanking projects:</p> <ul><li><a href="http://torottreebank.github.io/" target="_blank" rel="noopener noreferrer">The TromsÃ¸ Old Russian and OCS Treebank (TOROT)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="/proiel/">The PROIEL Treebank</a></li> <li><a href="/iswoc/">Information Structure and Word Order Change in Germanic and Romance Languages (ISWOC)</a></li> <li><a href="http://foni.uio.no:3000" target="_blank" rel="noopener noreferrer">Menotec<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="software"><a href="#software" class="header-anchor">#</a> Software</h2> <p>For historical reasons the components that make up Syntacticus are scattered between a number of Github projects. We're in the process of consolidating them under one organisation. Until that is done, here is a list to help you find your way:</p> <ul><li><a href="https://github.com/proiel/proiel" target="_blank" rel="noopener noreferrer">PROIEL library<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: a Ruby-based library for manipulating PROIEL treebanks (<a href="http://www.rubydoc.info/gems/proiel" target="_blank" rel="noopener noreferrer">API reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li> <li><a href="https://github.com/proiel/proiel-cli" target="_blank" rel="noopener noreferrer">PROIEL CLI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: a command-line tool for common tasks such as converting between treebank formats or extracting data for use with NLP tools. Some examples of typical usage can be found below in the section <a href="#manipulating-proiel-xml-treebank-files">Manipulating PROIEL XML treebank files</a>.</li> <li><a href="https://github.com/mlj/syntacticus.org" target="_blank" rel="noopener noreferrer">syntacticus.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: the user-facing treebank browser on <a href="http://syntacticus.org" target="_blank" rel="noopener noreferrer">syntacticus.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li><a href="https://github.com/mlj/syntacticus-api" target="_blank" rel="noopener noreferrer">Syntacticus API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: the Rails API that powers <a href="http://syntacticus.org" target="_blank" rel="noopener noreferrer">syntacticus.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and indexes treebanks.</li> <li><a href="https://github.com/mlj/proiel-webapp" target="_blank" rel="noopener noreferrer">PROIEL Annotator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:  a web-based tool for creating and annotating treebanks. This is a decade-old project that is in the middle of a complete rewrite; try one of the 'stable' releases which are the ones that have actually been deployed. Some (partially out-dated) documentation for this tool is available from <a href="https://github.com/mlj/proiel-webapp/wiki" target="_blank" rel="noopener noreferrer">it's wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul> <h2 id="apis-and-libraries"><a href="#apis-and-libraries" class="header-anchor">#</a> APIs and libraries</h2> <ul><li><code>proiel</code>: <a href="http://www.rubydoc.info/gems/proiel" target="_blank" rel="noopener noreferrer">Reference documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/proiel/proiel" target="_blank" rel="noopener noreferrer">GitHub repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>proiel-cli</code>: <a href="http://www.rubydoc.info/gems/proiel-cli" target="_blank" rel="noopener noreferrer">Reference documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/proiel/proiel-cli" target="_blank" rel="noopener noreferrer">GitHub repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="manipulating-proiel-xml-treebank-files"><a href="#manipulating-proiel-xml-treebank-files" class="header-anchor">#</a> Manipulating PROIEL XML treebank files</h2> <p>PROIEL XML files can be manipulated with our <a href="https://github.com/proiel/proiel-cli" target="_blank" rel="noopener noreferrer">command-line tools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The easiest way to install the tools is by using Ruby's <code>gem</code> tool:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>gem <span class="token function">install</span> proiel-cli
</code></pre></div><p>The general format is <code>proiel</code> followed by a command, any options and one or more filenames:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>proiel info <span class="token parameter variable">-V</span> caes-gal.xml cic-att.xml
</code></pre></div><p>Most commands also require sub-commands:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>proiel convert conll <span class="token parameter variable">-V</span> caes-gal.xml
</code></pre></div><p>The filename arguments are the treebank files to process. All commands accept plain PROIEL XML files or gzipped PROIEL XML files:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>proiel convert conll caes-gal.xml
proiel convert conll caes-gal.xml.gz
</code></pre></div><h3 id="converting-proiel-xml-files-to-other-file-formats"><a href="#converting-proiel-xml-files-to-other-file-formats" class="header-anchor">#</a> Converting PROIEL XML files to other file formats</h3> <p>PROIEL XML can be converted to a number of other formats using the <code>proiel</code> utility. The following, for example, will convert a PROIEL XML file to CoNLL-X format:</p> <div class="language- extra-class"><pre class="language-text"><code>proiel convert conll-x input.xml &gt; output.conll
</code></pre></div><p><code>proiel</code> currently supports conversion to the following formats:</p> <table><thead><tr><th>Command line</th> <th>Target format</th></tr></thead> <tbody><tr><td><code>proiel convert conll-x</code></td> <td><a href="http://ilk.uvt.nl/conll/#dataformat" target="_blank" rel="noopener noreferrer">CoNLL-X<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> format</td></tr> <tr><td><code>proiel convert conll-u</code></td> <td><a href="http://universaldependencies.org/docs/format.html" target="_blank" rel="noopener noreferrer">CoNLL-U<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> format</td></tr> <tr><td><code>proiel convert tiger</code></td> <td><a href="http://www.ims.uni-stuttgart.de/forschung/ressourcen/werkzeuge/TIGERSearch/doc/html/TigerXML.html" target="_blank" rel="noopener noreferrer">TIGER XML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> format</td></tr> <tr><td><code>proiel convert tiger2</code></td> <td><a href="http://korpling.german.hu-berlin.de/tiger2/" target="_blank" rel="noopener noreferrer">TIGER2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> format</td></tr> <tr><td><code>proiel convert text</code></td> <td>plain text</td></tr> <tr><td><code>proiel convert lexc</code></td> <td>lexc format</td></tr> <tr><td><code>proiel convert tnt</code></td> <td>TNT/hunpos format</td></tr> <tr><td><code>proiel convert proielxml</code></td> <td>PROIEL XML format</td></tr></tbody></table> <p>Note that official releases of the PROIEL treebank already include CoNLL-X files. These can be downloaded from the <a href="/proiel/">PROIEL treebank</a>.</p> <p>Conversion to CoNLL-U is experimental and the output is likely to evolve as the Universal Dependencies project matures. Curated versions of the PROIEL treebank on CoNLL-U format can be downloaded from the <a href="http://universaldependencies.org/" target="_blank" rel="noopener noreferrer">Universal Dependencies<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> project.</p> <p>Conversion to plain text removes all information except the text itself, which is output using UTF-8 encoding with Unix line-endings (<code>LF</code> only).</p> <p>Conversion to PROIEL XML is intended for filtering and merging of treebanks, as well as for round-trip testing.</p> <h3 id="validating-proiel-xml-files"><a href="#validating-proiel-xml-files" class="header-anchor">#</a> Validating PROIEL XML files</h3> <p>PROIEL XML should be validated before they are distributed or before they are imported into PROIEL Annotator. The following validates two PROIEL XML files:</p> <div class="language- extra-class"><pre class="language-text"><code>proiel validate input1.xml input2.xml
</code></pre></div><p>This will peek at the file to determine the version of PROIEL XML it uses and validate it using the appropriate XML schema. It also runs a number of integrity checks, which go beyond plain validation. In particular, <code>proiel validate</code> verifies that cross-references between objects are valid and that the annotation is consistent with the annotation schema.</p> <p>If any file is invalid or inconsistent, <code>proiel</code> will print errors to <code>stderr</code> and exit with a non-zero error code. <code>proiel</code> validates all files before existing with an error code.</p> <p>If you only want to validate the file using the XML schema, you can use a tool like <code>xmllint</code>. You fill find all the PROIEL XML schema files in the <a href="https://github.com/proiel/proiel/tree/master/lib/proiel/proiel_xml" target="_blank" rel="noopener noreferrer">GitHub repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for the <code>proiel</code> Ruby gem.</p> <div class="language- extra-class"><pre class="language-text"><code>xmllint --nonet --noout \
  --path path_to_schema_files \
  --schema path_to_schema_files/proiel.xsd \
  input.xml
</code></pre></div><h3 id="merging-filtering-and-upgrading-proiel-xml-files"><a href="#merging-filtering-and-upgrading-proiel-xml-files" class="header-anchor">#</a> Merging, filtering and upgrading PROIEL XML files</h3> <p>The <code>proiel</code> tool can convert from PROIEL XML to PROIEL XML. This functionality is intended for (a) merging multiple PROIEL XML files into one PROIEL XML file, (b) for filtering out information from PROIEL XML files, or (c) for upgrading PROIEL XML files that use an older version of the PROIEL XML schema to the most current version.</p> <p>{% include note-start.html title=&quot;Missing IDs&quot; %}
<tt>proiel convert proielxml</tt> will auto-generate any missing IDs on <tt>token</tt>, <tt>sentence</tt> or <tt>div</tt> elements.
Note in particular that PROIEL XML 2.0 and earlier did not support an <tt>id</tt> attribute on <tt>div</tt> elements. Running <tt>proiel convert proielxml</tt> on such files will produce auto-generated IDs on all <tt>div</tt> elements.
{% include note-end.html %}</p> <h4 id="merging-files"><a href="#merging-files" class="header-anchor">#</a> Merging files</h4> <p>Several treebank files can be merged into one treebank file by using <code>proiel convert proielxml</code> and specifying multiple PROIEL XML files:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>proiel convert proielxml caes-gal.xml cic-att.xml
</code></pre></div><p>The result will be a PROIEL XML file with multiple <code>source</code> elements:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>proiel</span> <span class="token attr-name">export-time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2014-12-19T12:44:28+01:00<span class="token punctuation">&quot;</span></span> <span class="token attr-name">schema-version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>annotation</span><span class="token punctuation">&gt;</span></span>
     ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>annotation</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>caes-gal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">language</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cic-att<span class="token punctuation">&quot;</span></span> <span class="token attr-name">language</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>proiel</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>The treebanks to be merged must all use the same schema version and the same tagset.</p> <h4 id="filtering-files"><a href="#filtering-files" class="header-anchor">#</a> Filtering files</h4> <p>Information in treebank files can be filtered using <code>proiel convert proielxml</code>. Common scenarios in which this is useful include when you need to remove one layer of annotation, remove work that is incomplete or anonymise data that includes detailed annotator information. Examples:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># Remove the annotation level that includes information structure</span>
proiel convert proielxml --remove-information-structure input.xml <span class="token operator">&gt;</span> output.xml

<span class="token comment"># Remove all sentences that have not been reviewed</span>
proiel convert proielxml --remove-not-reviewed input.xml <span class="token operator">&gt;</span> output.xml

<span class="token comment"># Remove personal information about annotator and reviewer activity</span>
proiel convert proielxml --remove-annotator --remove-reviewer input.xml <span class="token operator">&gt;</span> output.xml
</code></pre></div><p>Filters can also be used for transfer of information from one source to another in certain special cases. The <code>--infer-alignments</code> options will infer alignments between <code>div</code> elements using alignments on tokens or sentences. For this to work, both the aligned source <em>A</em> (which will typically be the translation of a text) and the unaligned text <em>B</em> (which will typically be the original text that was translated) have to be loaded. However, when inferring these alignments for source <em>A</em> it may be that you do not want to include the unaligned source <em>B</em>. In this scenario, the <code>--remove-unaligned-sources</code> option will filter out source <em>B</em> after the inference has taken place:</p> <div class="language- extra-class"><pre class="language-text"><code>proiel convert proielxml --infer-alignments --remove-unaligned-sources A.xml B.xml &gt; output.xml
</code></pre></div><p>Use <code>proiel convert proielxml --help</code> for a full list of options.</p> <h4 id="upgrading-files"><a href="#upgrading-files" class="header-anchor">#</a> Upgrading files</h4> <p>PROIEL XML files that employ an older version of the PROIEL XML schema can be upgraded using <code>proiel convert proielxml</code>:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>proiel convert proielxml old-schema.xml <span class="token operator">&gt;</span> new-schema.xml
</code></pre></div><p><code>proiel convert</code> can read files that use the PROIEL XML 2.0 or higher, and <code>proiel convert proielxml</code> will always output files that use the latest version of the PROIEL XML schema.</p> <h3 id="searching-for-text"><a href="#searching-for-text" class="header-anchor">#</a> Searching for text</h3> <p>Simple searches can be performed using <code>proiel grep</code> followed by a regular expression. This will serahc the text (which is the <code>form</code> attribute on tokens and any <code>presentation_before</code> and <code>presentation_after</code> attributes on tokens, sentences and divs) and return any text that matches the regular expression, as in this example:</p> <div class="language- extra-class"><pre class="language-text"><code>$ proiel grep 'pel' caes-gal.xml
Caes. Gal. 1.1.1 (ID = 52548) Gallia est omnis divisa in partes tres, quarum unam incolunt Belgae, aliam Aquitani, tertiam qui ipsorum lingua Celtae, nostra Galli appellantur.
Caes. Gal. 1.3.3 (ID = 52570) In eo itinere persuadet Castico, Catamantaloedis filio, Sequano, cuius pater regnum in Sequanis multos annos obtinuerat et a senatu populi Romani amicus appellatus erat, ut regnum in civitate sua occuparet, quod pater ante habuerit;
...
$ proiel grep '^pel' caes-gal.xml
Caes. Gal. 3.13.6 (ID = 53210) pelles pro velis alutaeque tenuiter confectae, sive propter inopiam lini atque eius usus inscientiam, sive eo, quod est magis veri simile, quod tantas tempestates Oceani tantosque impetus ventorum sustineri ac tanta onera navium regi velis non satis commode posse arbitrabantur.
</code></pre></div><p>The regular expression is applied to one sentence at a time so the anchors <code>^</code> and <code>$</code> refer to the beginning and end of the sentence.</p> <p>To apply a regular expression to each individual token instead, use the <code>--level token</code> option:</p> <div class="language- extra-class"><pre class="language-text"><code>$ proiel grep 'pel' --level token caes-gal.xml
Caes. Gal. 1.1.1 (ID = 680740) appellantur.
Caes. Gal. 1.3.3 (ID = 681128) appellatus
Caes. Gal. 1.12.4 (ID = 682300) appellabatur
...
$ proiel grep '^pel' --level token caes-gal.xml
Caes. Gal. 1.31.11 (ID = 685232) pellerentur
Caes. Gal. 2.33.2 (ID = 693103) pellibus
Caes. Gal. 3.13.6 (ID = 852327) pelles
...
</code></pre></div><p>Matching is by default case sensitive. Use the <code>-i</code> option for case-insensitive matching:</p> <div class="language- extra-class"><pre class="language-text"><code>$ proiel grep 'Gal' --level token caes-gal.xml
Caes. Gal. 1.1.1 (ID = 680720) Gallia
Caes. Gal. 1.1.1 (ID = 680739) Galli
Caes. Gal. 1.1.2 (ID = 680749) Gallos
...
$ proiel grep 'Gal' --level token -i caes-gal.xml
...
Caes. Gal. 1.17.4 (ID = 761727) Gallia
Caes. Gal. 1.18.3 (ID = 683173) vectigalia
Caes. Gal. 1.19.3 (ID = 756644) Galliae
...
</code></pre></div><h2 id="syntactic-annotation-model"><a href="#syntactic-annotation-model" class="header-anchor">#</a> Syntactic annotation model</h2> <p>If you are familiar with other dependency-grammar treebanks, the following is what you absolutely need to know about the PROIEL model:</p> <ol><li><p>Every dependency graph has an implicit or virtual root node. This is (1) because we want to be able to label the token that would otherwise have been the root, and (2) because the annotation system allows for multiple such tokens to belong to the same graph.</p></li> <li><p>Dependency graphs do not include punctuation. This is because (1) because punctuation in historical language data is highly idiosyncratic, frequently added by later editors and sometimes absent altogether, and (2) because it not part of the formal syntactic framework (Lexical-Functional Grammar) that PROIEL was inspired by.</p></li> <li><p>Eeach node has only one primary dependency but may additionally have any number of secondary dependencies. These dependencies indicate various forms of coreference or coindexing.</p></li> <li><p>Nodes need not correspond to overt morphemes. In specific cirumstances the model allows for nodes without any overt content. Some of these can be discarded if you dislike them (e.g. <em>pro</em>-subjects) while others are intrinsic to the model (e.g. null verbs).</p></li></ol> <ul><li>overt root node is labelled by assuming a virtual, null root node</li> <li>punctuation not in dep. graphs</li> <li>secondary relations &amp; null elements</li></ul> <h2 id="the-proiel-xml-format"><a href="#the-proiel-xml-format" class="header-anchor">#</a> The PROIEL XML format</h2> <p>PROIEL XML is the proprietary XML format used as the authoritative and complete long-term storage format for PROIEL treebanks. PROIEL XML is described by a schema, a set of integrity rules and additional behaviour described here.</p> <p>As PROIEL XML as evolved, more features have been added:</p> <ul><li><a href="https://raw.githubusercontent.com/proiel/proiel/master/lib/proiel/proiel_xml/proiel-1.0/proiel-1.0.xsd" target="_blank" rel="noopener noreferrer">PROIEL XML 1.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> was was the first version of PROIEL XML intended for public consumption. This version is obsolete and is no longer supported by any of our tools.</li> <li><a href="https://raw.githubusercontent.com/proiel/proiel/master/lib/proiel/proiel_xml/proiel-2.0/proiel-2.0.xsd" target="_blank" rel="noopener noreferrer">PROIEL XML 2.0/2.0.1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> replaced the TEI header of version 1.0 with a sequence of pre-defined metadata elements. Although this change removed a powerful feature, it significantly simplified manipulation and validation of PROIEL XML files.</li> <li><a href="https://raw.githubusercontent.com/proiel/proiel/master/lib/proiel/proiel_xml/proiel-2.1/proiel-2.1.xsd" target="_blank" rel="noopener noreferrer">PROIEL XML 2.1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<strong>current version</strong>) added several new attributes:
<ul><li>an optional <code>id</code> attribute on <code>div</code> elements</li> <li>an optional <code>alignment-id</code> attribute on <code>source</code>, <code>div</code>, <code>sentence</code> and <code>token</code> elements</li> <li>optional <code>annotated-by</code>, <code>annotated-at</code>, <code>reviewed-by</code> and <code>reviewed-at</code> attributes on <code>sentence</code> elements</li></ul></li> <li>PROIEL XML 3.0 (<strong>unreleased</strong>) adds support for per-language dictionaries using the <code>dictionary</code> element. It adds one or more optional <code>note</code> elements under <code>source</code>, <code>div</code>, <code>sentence</code>, <code>token</code> and <code>lemma</code>, as well as one or more optional <code>tag</code> elements under <code>token</code> and <code>lemma</code>. It also adds an optional <code>dialect</code> attribute to <code>source</code> and <code>dictionary</code>, and optional <code>alternative-title</code>, <code>chronology-composition</code> and <code>chronology-manuscript</code> elements below <code>source</code>.</li></ul> <p>Any valid PROIEL XML 2.0 treebank is also a valid PROIEL XML 2.1 treebank, but a PROIEL XML 2.1 treebank is not a valid PROIEL XML 2.0 treebank. To ensure compatibility PROIEL XML 2.0 treebanks should be upgraded to PROIEL XML 2.1 treebanks. Any valid PROIEL XML 2.1 treebank will also be a valid PROIEL XML 3.0 treebank.</p> <p>A single PROIEL XML file can represent an entire treebank or a subset of a treebank. In other words, a single file can contain one or more texts with incomplete or complete annotation. Within PROIEL XML a single text for annotation is called a <em>source</em>. Each source is divided into one or more <em>divs</em>. These will typically correspond to chapters or sections in a printed text. Each div contains one or more <em>sentences</em>. Each sentence finally contains one or more <em>tokens</em>. In this document, the term <em>object</em> is used generically for sources, divs, sentences and tokens.</p> <p>Each object has an ID which is represented as an attribute <code>id</code> on the relevant element:</p> <table><thead><tr><th>Element</th> <th>Attribute</th> <th>Type</th> <th>Availability</th></tr></thead> <tbody><tr><td><code>source</code></td> <td><code>id</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>div</code></td> <td><code>id</code></td> <td>Non-negative integer, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr> <tr><td><code>sentence</code></td> <td><code>id</code></td> <td>Non-negative integer, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>token</code></td> <td><code>id</code></td> <td>Non-negative integer, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr></tbody></table> <p>The <code>id</code> attribute on a source uniquely identifies the source within the treebank. This means that two different sources can have the same value for their <code>id</code> attribute if they belong to different treebanks or different versions of the same treebank.</p> <p>The <code>id</code> attribute on divs, sentences and tokens uniquely identify the object within the source. This means that two different sentences can have the same value for their <code>id</code> attributes if they belong to different sources.</p> <p>While duplication of IDs is permitted in the PROIEL XML model, it is not encouraged and should be avoided if possible. Duplication may, however, be unavoidable when multiple treebanks from different vendors or multiple versions of the same treebank are combined.</p> <p>As the table above shows, the <code>id</code> attribute was absent from <code>div</code> elements before PROIEL XML 2.1. This was unintentional.</p> <p>TODO: Explain relation between ID duplication in PROIEL XML and uniqueness of XML IDs in a single XML document.</p> <p>Objects are ordered in the sequence that they occur in the original text. The only exception (depending on how you look at it) is an empty token. An empty token is a virtual token that represents a node in the dependency graph without being present in the original text. By convention empty tokens that encode <em>pro</em>-drop are placed immediately before the head it is a dependent of, while empty verbal tokens and empty coordinating tokens are placed at the end of the sentence. While this is only a convention our supporting software assumes that this is the case when presenting formatted sentences for end-user consumption.</p> <h2 id="textual-metadata"><a href="#textual-metadata" class="header-anchor">#</a> Textual metadata</h2> <p>TODO</p> <h3 id="chronological-data"><a href="#chronological-data" class="header-anchor">#</a> Chronological data</h3> <table><thead><tr><th>Element</th> <th>Type</th> <th>Availability</th></tr></thead> <tbody><tr><td><code>chronology-composition</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 3.0</td></tr> <tr><td><code>chronology-manuscript</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 3.0</td></tr></tbody></table> <p>Always use the Gregorian calendar and provide only the year, not the day, month or any other commentary.</p> <p>Give the year as an integer and use <code>BC</code> to denote years before year 1. Do not use other designations like <code>AD</code> for the epoch starting with year 1:</p> <div class="language- extra-class"><pre class="language-text"><code>1040
300 BC
</code></pre></div><p>If the exact year is not known, but it is possible to place the event within a range of years, give the start and end of the range separated by <code>-</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>1040-1045
30 BC-20 BC
10 BC-10
</code></pre></div><p>If either end-point of the range is an estimate, prefix an the estimated year by <code>c.</code> (for <em>circa</em>):</p> <div class="language- extra-class"><pre class="language-text"><code>c. 1050-c. 1100
c. 10 BC-c. 10
</code></pre></div><p>If it is not possible to give a range, give an extimated year prefixed by <code>c.</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>c. 1050
c. 100 BC
</code></pre></div><p>As a shorthand, a century can be given instead of a range or an estimated year:</p> <div class="language- extra-class"><pre class="language-text"><code>13th c.     (= c. 1201-c. 1300)
1st c.      (= c. 1-c. 100)
1st c. BC   (= c. 100 BC-c. 1 BC)
</code></pre></div><h3 id="languages-and-dialects"><a href="#languages-and-dialects" class="header-anchor">#</a> Languages and dialects</h3> <p>All sources and dictionaries require a <code>language</code> attribute. They may also have
a <code>dialect</code> attribute in PROIEL XML 3.0 or higher.</p> <table><thead><tr><th>Element</th> <th>Attribute</th> <th>Type</th> <th>Availability</th></tr></thead> <tbody><tr><td><code>source</code></td> <td><code>language</code></td> <td>Enumeration, required</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>source</code></td> <td><code>dialect</code></td> <td>Enumeration, optional</td> <td>PROIEL XML &gt;= 3.0</td></tr> <tr><td><code>dictionary</code></td> <td><code>language</code></td> <td>Enumeration, required</td> <td>PROIEL XML &gt;= 3.0</td></tr> <tr><td><code>dictionary</code></td> <td><code>dialect</code></td> <td>Enumeration, optional</td> <td>PROIEL XML &gt;= 3.0</td></tr></tbody></table> <p>Language attributes contain an <a href="https://iso639-3.sil.org/about" target="_blank" rel="noopener noreferrer">ISO-639-3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> language tag. All tags defined in the most recent version of the ISO-639-3 standard are valid. See SIL's <a href="https://iso639-3.sil.org/code_tables/639/data" target="_blank" rel="noopener noreferrer">ISO-639-3 code table<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for a list.</p> <p>Dialect attributes contain a dialect tag based on those proposed as <a href="http://linguistlist.org/forms/langs/find-a-language-or-family.cfm#other-code" target="_blank" rel="noopener noreferrer">LinguistList's extensions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. These can be browsed using <a href="http://new.multitree.org/" target="_blank" rel="noopener noreferrer">MultiTree<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and there is a list of language tags for <a href="http://multitree.org/codes/extinct.html" target="_blank" rel="noopener noreferrer">extinct languages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Unfortunately, some of these involve ISO-639-3 tags that have been proposed, but never accepted (e.g. <code>vsn</code> for <a href="https://iso639-3.sil.org/request/2011-041" target="_blank" rel="noopener noreferrer">Vedic Sanskrit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>). PROIEL XML instead using dialect tags and an existing ISO-639-9 tag whenever possible.</p> <p>The following is a list of language and dialect tags for which complete or partial support already exists within the toolchain:</p> <ul><li>Language tag <code>ang</code>: <a href="http://multitree.org/codes/ang.html" target="_blank" rel="noopener noreferrer">Old English<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>chu</code>: <a href="http://multitree.org/codes/chu.html" target="_blank" rel="noopener noreferrer">Old Church Slavonic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>fro</code>: <a href="http://multitree.org/codes/fro.html" target="_blank" rel="noopener noreferrer">Old French<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>got</code>: <a href="http://multitree.org/codes/got.html" target="_blank" rel="noopener noreferrer">Gothic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>grc</code>: <a href="http://multitree.org/codes/grc.html" target="_blank" rel="noopener noreferrer">Ancient Greek<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>hit</code>: <a href="http://multitree.org/codes/hit.html" target="_blank" rel="noopener noreferrer">Hittite<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>lat</code>: <a href="http://multitree.org/codes/lat.html" target="_blank" rel="noopener noreferrer">Latin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>lit</code>: <a href="http://multitree.org/codes/lit.html" target="_blank" rel="noopener noreferrer">Lithuanian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>non</code>: <a href="http://multitree.org/codes/non.html" target="_blank" rel="noopener noreferrer">Old Norse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>Dialect tag <code>dan</code>: <a href="http://multitree.org/codes/non-dan.html" target="_blank" rel="noopener noreferrer">Old Danish<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Dialect tag <code>ice</code>: <a href="http://multitree.org/codes/non-ice.html" target="_blank" rel="noopener noreferrer">Old Icelandic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Dialect tag <code>ono</code>: <a href="http://multitree.org/codes/non-ono.html" target="_blank" rel="noopener noreferrer">Old Norwegian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Dialect tag <code>swe</code>: <a href="http://multitree.org/codes/non-swe.html" target="_blank" rel="noopener noreferrer">Old Swedish<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>Language tag <code>orv</code>: <a href="http://multitree.org/codes/orv.html" target="_blank" rel="noopener noreferrer">Old Russian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>osp</code>: <a href="http://multitree.org/codes/osp.html" target="_blank" rel="noopener noreferrer">Old Spanish<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>por</code>: <a href="http://multitree.org/codes/por.html" target="_blank" rel="noopener noreferrer">Portuguese<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>san</code>: <a href="http://multitree.org/codes/san.html" target="_blank" rel="noopener noreferrer">Sanskrit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>Dialect tag <code>vsn</code>: Vedic Sanskrit</li></ul></li> <li>Language tag <code>spa</code>: <a href="http://multitree.org/codes/spa.html" target="_blank" rel="noopener noreferrer">Spanish<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Language tag <code>xcl</code>: <a href="http://multitree.org/codes/xcl.html" target="_blank" rel="noopener noreferrer">Classical Armenian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Note that there is no support for language or dialect attributes on specific elements within sources or dictionaries, nor is there support for distinguishing between scripts (e.g. Cyrillic or Glagolitic for Old Church Slavonic).</p> <h2 id="annotation-metadata"><a href="#annotation-metadata" class="header-anchor">#</a> Annotation metadata</h2> <p>TODO</p> <h3 id="annotation-status"><a href="#annotation-status" class="header-anchor">#</a> Annotation status</h3> <table><thead><tr><th>Element</th> <th>Attribute</th> <th>Type</th> <th>Availability</th></tr></thead> <tbody><tr><td><code>sentence</code></td> <td><code>status</code></td> <td>Enumeration, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>sentence</code></td> <td><code>annotated_by</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr> <tr><td><code>sentence</code></td> <td><code>reviewed_by</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr> <tr><td><code>sentence</code></td> <td><code>annotated_at</code></td> <td>Time stamp, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr> <tr><td><code>sentence</code></td> <td><code>reviewed_at</code></td> <td>Time stamp, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr></tbody></table> <p>TODO: <code>status</code></p> <p>The <code>status</code> attribute must be one of <code>unannotated</code>, <code>annotated</code> and <code>reviewed</code>. If absent, it should be understood as having the value <code>unannotated</code>.</p> <p>TODO: <code>annotated_by</code>, <code>reviewed_by</code>
TODO: <code>annotated_at</code>, <code>reviewed_at</code></p> <h2 id="lemma-part-of-speech-and-morphology"><a href="#lemma-part-of-speech-and-morphology" class="header-anchor">#</a> Lemma, part of speech and morphology</h2> <table><thead><tr><th>Element</th> <th>Attribute</th> <th>Type</th> <th>Availability</th></tr></thead> <tbody><tr><td><code>token</code></td> <td><code>lemma</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>token</code></td> <td><code>part-of-speech</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>token</code></td> <td><code>morphology</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr></tbody></table> <p>The <code>lemma</code> attribute contains the lemma associated with the token, i.e. the dictionary form of the token.</p> <p>When it is necessary to distinguish between multiple lemmas with the same textual form, the PROIEL XML convention is use the associated part of speech to distinguish them.</p> <p>If there are multiple lemmas with the same textual form and the same part of speech, the convention is to append <code>#</code> and a positive, non-zero integer:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>token</span> <span class="token attr-name">lemma</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>quod#1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">part-of-speech</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Df<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>token</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>token</span> <span class="token attr-name">lemma</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>quod#2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">part-of-speech</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Df<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>token</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Lemma uniqueness is therefore determined by the pair (<code>lemma</code>, <code>part-of-speech</code>).</p> <p>It is a good idea to number lemmas consecutively but nothing in the model assumes that this is the case.</p> <h3 id="part-of-speech-tags"><a href="#part-of-speech-tags" class="header-anchor">#</a> Part of speech tags</h3> <p>Parts of speech are defined in the annotation schema included in a PROIEL XML file. For ease of reference, the table below gives the default parts of speech for a PROIEL XML 2.1 treebank:</p> <table><thead><tr><th>Tag</th> <th>Part of speech</th></tr></thead> <tbody><tr><td><code>A-</code></td> <td>adjective</td></tr> <tr><td><code>C-</code></td> <td>conjunction</td></tr> <tr><td><code>Df</code></td> <td>adverb</td></tr> <tr><td><code>Dq</code></td> <td>relative adverb</td></tr> <tr><td><code>Du</code></td> <td>interrogative adverb</td></tr> <tr><td><code>F-</code></td> <td>foreign word</td></tr> <tr><td><code>G-</code></td> <td>subjunction</td></tr> <tr><td><code>I-</code></td> <td>interjection</td></tr> <tr><td><code>Ma</code></td> <td>cardinal numeral</td></tr> <tr><td><code>Mo</code></td> <td>ordinal numeral</td></tr> <tr><td><code>N-</code></td> <td>infinitive marker</td></tr> <tr><td><code>Nb</code></td> <td>common noun</td></tr> <tr><td><code>Ne</code></td> <td>proper noun</td></tr> <tr><td><code>Pc</code></td> <td>reciprocal pronoun</td></tr> <tr><td><code>Pd</code></td> <td>demonstrative pronoun</td></tr> <tr><td><code>Pi</code></td> <td>interrogative pronoun</td></tr> <tr><td><code>Pk</code></td> <td>personal reflexive pronoun</td></tr> <tr><td><code>Pp</code></td> <td>personal pronoun</td></tr> <tr><td><code>Pr</code></td> <td>relative pronoun</td></tr> <tr><td><code>Ps</code></td> <td>possessive pronoun</td></tr> <tr><td><code>Pt</code></td> <td>possessive reflexive pronoun</td></tr> <tr><td><code>Px</code></td> <td>indefinite pronoun</td></tr> <tr><td><code>Py</code></td> <td>quantifier</td></tr> <tr><td><code>R-</code></td> <td>preposition</td></tr> <tr><td><code>S-</code></td> <td>article</td></tr> <tr><td><code>V-</code></td> <td>verb</td></tr> <tr><td><code>X-</code></td> <td>unassigned</td></tr></tbody></table> <h3 id="morphology-tags"><a href="#morphology-tags" class="header-anchor">#</a> Morphology tags</h3> <p>The morphology tags consist of 11 fields encoding different features. The following table shows the globally valid values for each field in order. There are also language-specific restrictions on valid morphology tags.</p> <table><thead><tr><th>Field</th> <th>Possible value</th></tr></thead> <tbody><tr><td>person</td> <td><code>1</code>, <code>2</code>, <code>3</code></td></tr> <tr><td>number</td> <td><code>d</code> (dual), <code>e</code>(s. or p.), <code>p</code> (plural),  <code>s</code> (singular), <code>x</code> (uncertain)</td></tr> <tr><td>tense</td> <td><code>a</code> (aorist), <code>f</code> (future), <code>i</code> (imperfect), <code>l</code> (pluperfect), <code>p</code> (present),  <code>r</code> (perfect), <code>s</code> (resultative),  <code>t</code> (future perfect), <code>u</code> (past), <code>x</code> (uncertain)</td></tr> <tr><td>mood</td> <td><code>d</code> (gerund),  <code>g</code> (gerundive), <code>i</code> (indicative), <code>m</code> (imperative), <code>n</code> (infintive), <code>o</code> (optative),  <code>p</code> (participle), <code>s</code> (subjunctive),  <code>u</code> (supine), <code>x</code> (uncertain)</td></tr> <tr><td>voice</td> <td><code>a</code> (active),  <code>e</code> (middle or passive), <code>m</code> (middle), <code>p</code> (passive), <code>x</code> (uncertain)</td></tr> <tr><td>gender</td> <td><code>f</code> (feminine), <code>m</code> (masculine), <code>n</code> (neuter), <code>o</code> (m. or n.), <code>p</code> (m. or f.), <code>q</code> (m., f. or n.), <code>r</code> (f. or n.), <code>x</code> (uncertain)</td></tr> <tr><td>case</td> <td><code>a</code> (accusative), <code>b</code> (ablative), <code>c</code> (genitive or dative), <code>d</code> (dative), <code>e</code> (acc. or dat.), <code>g</code> (genitive), <code>i</code> (instrumental),  <code>k</code> (nom. or acc.), <code>l</code> (locative), <code>n</code> (nominative), <code>o</code> (oblique),  <code>v</code> (vocative), <code>x</code> (uncertain), <code>z</code> (no case)</td></tr> <tr><td>degree</td> <td><code>c</code> (comparative), <code>p</code> (positive), <code>s</code> (superlative), <code>x</code> (uncertain), <code>z</code> (no degree)</td></tr> <tr><td>strength</td> <td><code>s</code> (strong), <code>t</code> (weak or strong), <code>w</code> (weak)</td></tr> <tr><td>inflection</td> <td><code>i</code> (inflecting), <code>n</code> (non-inflecting)</td></tr></tbody></table> <h2 id="dependency-relations"><a href="#dependency-relations" class="header-anchor">#</a> Dependency relations</h2> <p>TODO</p> <p>Dependency relations are defined in the annotation schema included in a PROIEL XML file. For ease of reference, the table below gives the default dependency relations for a PROIEL XML 2.1 treebank:</p> <table><thead><tr><th>Tag</th> <th>Dependency relation</th> <th>Primary relation</th> <th>Secondary relation</th></tr></thead> <tbody><tr><td><code>adnom</code></td> <td>adnominal</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>adv</code></td> <td>adverbial</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>ag</code></td> <td>agens</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>apos</code></td> <td>apposition</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>arg</code></td> <td>argument (object or oblique)</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>atr</code></td> <td>attribute</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>aux</code></td> <td>auxiliary</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>comp</code></td> <td>complement</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>expl</code></td> <td>expletive</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>narg</code></td> <td>adnominal argument</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>nonsub</code></td> <td>non-subject (object, oblique or adverbial)</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>obj</code></td> <td>object</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>obl</code></td> <td>oblique</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>parpred</code></td> <td>parenthetical predication</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>part</code></td> <td>partitive</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>per</code></td> <td>peripheral (oblique or adverbial)</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>pid</code></td> <td>predicate identity</td> <td>No</td> <td>Yes</td></tr> <tr><td><code>pred</code></td> <td>predicate</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>rel</code></td> <td>apposition or attribute</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>sub</code></td> <td>subject</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>voc</code></td> <td>vocative</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>xadv</code></td> <td>open adverbial complement</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>xobj</code></td> <td>open objective complement</td> <td>Yes</td> <td>Yes</td></tr> <tr><td><code>xsub</code></td> <td>external subject</td> <td>No</td> <td>Yes</td></tr></tbody></table> <h2 id="information-structure"><a href="#information-structure" class="header-anchor">#</a> Information structure</h2> <p>TODO</p> <p>Information statuses are defined in the annotation schema included in a PROIEL XML file. For ease of reference, the table below gives the default information statuses for a PROIEL XML 2.1 treebank:</p> <table><thead><tr><th>Tag</th> <th>Information status</th></tr></thead> <tbody><tr><td><code>acc_gen</code></td> <td>acc-gen</td></tr> <tr><td><code>acc_inf</code></td> <td>acc-inf</td></tr> <tr><td><code>acc_sit</code></td> <td>acc-sit</td></tr> <tr><td><code>info_unannotatable</code></td> <td>unannotatable</td></tr> <tr><td><code>kind</code></td> <td>kind</td></tr> <tr><td><code>new</code></td> <td>new</td></tr> <tr><td><code>no_info_status</code></td> <td>annotatable (undecided)</td></tr> <tr><td><code>non_spec_inf</code></td> <td>inferred from non-specific</td></tr> <tr><td><code>non_spec_old</code></td> <td>non-specific old</td></tr> <tr><td><code>non_spec</code></td> <td>non-specific</td></tr> <tr><td><code>old_inact</code></td> <td>old-inact</td></tr> <tr><td><code>old</code></td> <td>old</td></tr> <tr><td><code>quant</code></td> <td>quantifier restriction</td></tr></tbody></table> <h2 id="alignments"><a href="#alignments" class="header-anchor">#</a> Alignments</h2> <table><thead><tr><th>Element</th> <th>Attribute</th> <th>Type</th> <th>Availability</th></tr></thead> <tbody><tr><td><code>source</code></td> <td><code>alignment-id</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr> <tr><td><code>div</code></td> <td><code>alignment-id</code></td> <td>Non-negative integer, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr> <tr><td><code>sentence</code></td> <td><code>alignment-id</code></td> <td>Non-negative integer, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr> <tr><td><code>token</code></td> <td><code>alignment-id</code></td> <td>Non-negative integer, optional</td> <td>PROIEL XML &gt;= 2.1</td></tr></tbody></table> <p>The PROIEL model supports alignments between sources, between divs in different sources, between sentences in different sources and between tokens in different sources.</p> <p>Alignments between objects are one-to-many; many-to-many alignments are not supported. As an illustration, this means that the model can express alignments between the Latin translation of the New Testament and the Ancient Greek original, between the Old Church Slavonic translation and the Ancient Greek original, and so on, but it cannot at the same time express alignments between the Latin and Old Church Slavonic translations.</p> <p>Given this restriction, alignments are encoded in PROIEL XML on an abbreviated form. Objects whose alignment is defined have the attribute <code>alignment-id</code> with the ID of the aligned object. As the IDs of divs, sentences and tokens are unique only within each source (see section <a href="#object-ids">Object IDs</a>), the <code>alignment-id</code> on <code>div</code>, <code>sentence</code> and <code>token</code> elements must be interpreted in relation to the <code>alignment-id</code> on the <code>source</code> element.</p> <p>In the example below, <code>text1</code> is aligned to <code>text2</code>. The alignment of token <code>12345678</code> in <code>text1</code> should be understood to be with token <code>12345678</code> in <code>text2</code>. Similarly, sentence <code>123</code> is aligned with sentence <code>456</code> in <code>text2</code>, and div <code>12</code> with div <code>10000</code> in <code>text2</code>:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignment-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignment-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sentence</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignment-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>456<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      ...
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>token</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12345678<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignment-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12345678<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sentence</span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>This means that if the source element lacks an <code>alignment-id</code> attribute, but one of its descendant <code>div</code>, <code>sentence</code> or <code>token</code> elements has an <code>alignment-id</code> attribute, the PROIEL XML file is inconsistent. This constraint can be verified using <code>proiel validate</code>.</p> <p>If an object is aligned to multiple objects in the aligned source, the IDs are separated by a comma:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignment-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignment-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sentence</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignment-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>456,457<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sentence</span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Object alignments should be internally consistent. If, for example, token <em>x</em> belonging to sentence <em>a</em> is aligned with token <em>y</em> belonging to sentence <em>b</em>, sentence <em>a</em> must be aligned to sentence <em>b</em>. Note that a PROIEL XML file does not have to provide alignments on all objects, e.g. if token <em>x</em> is aligned to token <em>y</em> the PROIEL XML file does not have to specify that sentence <em>a</em> is aligned to sentence <em>b</em>, but if an alignment for sentence <em>a</em> is specified it has to specify alignment with sentence <em>b</em>. This constraint can be verified using <code>proiel validate</code>.</p> <h2 id="references-to-external-data"><a href="#references-to-external-data" class="header-anchor">#</a> References to external data</h2> <table><thead><tr><th>Element</th> <th>Attribute</th> <th>Type</th> <th>Availability</th></tr></thead> <tbody><tr><td><code>sentence</code></td> <td><code>foreign-ids</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>token</code></td> <td><code>foreign-ids</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr> <tr><td><code>lemma</code></td> <td><code>foreign-ids</code></td> <td>String, optional</td> <td>PROIEL XML &gt;= 1.0</td></tr></tbody></table> <p>The attribute <code>foreign_ids</code> is intended for storing user-defined references to external data of any kind. No particular format is required but the convention is to use a comma-separated list of key=value pairs, such as</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>token</span> <span class="token attr-name">...</span> <span class="token attr-name">foreign_ids</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>source_segment_id=T567,witness=CA<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="representation-of-textual-values"><a href="#representation-of-textual-values" class="header-anchor">#</a> Representation of textual values</h2> <p>All text should be encoded using UTF-8. It is also recommended that all text is on <a href="http://www.unicode.org/reports/tr15/" target="_blank" rel="noopener noreferrer">Unicode Normalization form C<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. (As PROIEL XML uses XML, it is technically possible to use a different encoding if you specify this in the XML prologue but there is really no good reason to do this, so don't!)</p> <p>Whitespace in textual values is by default not considered significant. If a text value contains whitespace that should be significant, as in, for example, poetry and drama, the following Unicode characters should be used:</p> <ul><li>For a line break, use <a href="https://codepoints.net/U+2028" target="_blank" rel="noopener noreferrer"><code>U+2028 (LINE SEPARATOR)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>For a paragraph break, use <a href="https://codepoints.net/U+2029" target="_blank" rel="noopener noreferrer"><code>U+2029 (PARAGRAPH SEPARATOR)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>For an indented line (in poetry, after a line break), use TODO</li> <li>For a caesura (in poetry, within a line), use TODO</li></ul> <p>We see here that PROIEL XML ascribes additional presentational properties to some Unicode code points. PROIEL XML sets aside a number of Unicode code points for this. Most belong to one of the Private Use Areas except for two code points whose Unicode definition already provide a good fit for PROIEL XML's use of them. The following code points are given a special interpretation:</p> <table><thead><tr><th>Code point and character name</th> <th>Function in PROIEL XML</th> <th>HTML rendering</th></tr></thead> <tbody><tr><td><code>U+2028 LINE SEPARATOR</code></td> <td>End of line in poetry/drama</td> <td><code>&lt;br&gt;</code></td></tr> <tr><td><code>U+2029 PARAGRAPH SEPARATOR</code></td> <td>End of paragraph in poetry/drama</td> <td><code>&lt;p&gt;</code></td></tr> <tr><td><code>U+F000 PRIVATE USE CODEPOINT</code></td> <td>Start of italics</td> <td><code>&lt;i&gt;</code></td></tr> <tr><td><code>U+F001 PRIVATE USE CODEPOINT</code></td> <td>Start of subscript</td> <td><code>&lt;sub&gt;</code></td></tr> <tr><td><code>U+F002 PRIVATE USE CODEPOINT</code></td> <td>Start of superscript</td> <td><code>&lt;sup&gt;</code></td></tr> <tr><td><code>U+F003 PRIVATE USE CODEPOINT</code></td> <td>Start of bold face</td> <td><code>&lt;b&gt;</code></td></tr> <tr><td><code>U+F100 PRIVATE USE CODEPOINT</code></td> <td>End of italics</td> <td><code>&lt;/i&gt;</code></td></tr> <tr><td><code>U+F101 PRIVATE USE CODEPOINT</code></td> <td>End of subscript</td> <td><code>&lt;/sub&gt;</code></td></tr> <tr><td><code>U+F102 PRIVATE USE CODEPOINT</code></td> <td>End of superscript</td> <td><code>&lt;/sup&gt;</code></td></tr> <tr><td><code>U+F103 PRIVATE USE CODEPOINT</code></td> <td>End of bold face</td> <td><code>&lt;/b&gt;</code></td></tr></tbody></table> <p>Taking into account the rules for representation of whitespace and code points with special intepretation, the procedure for rendering a textual value as HTML is as follows:</p> <ol><li>Concatenate all textual values columns in their implicit order, including any relevant metadata like citations if required.</li> <li>Map each code point in the table above to their recommended HTML translation.</li> <li>Replace any sequence of whitespace with a single <code>U+0020 (SPACE)</code> character.</li> <li>Remove any whitespace from the beginning and end of the string.</li></ol> <h2 id="managing-proiel-annotator"><a href="#managing-proiel-annotator" class="header-anchor">#</a> Managing PROIEL Annotator</h2> <h3 id="importing-texts"><a href="#importing-texts" class="header-anchor">#</a> Importing texts</h3> <p>PROIEL Annotator only supports importing text from PROIEL XML files. If you already have an electronic text on a pure-text format, an easy way to get started is to use the <code>proiel</code> tool as a scaffolding tool. The only requirement is that the file uses UTF-8 encoding. If this is the case, you can use the the <code>proiel tokenize</code> command to produce a PROIEL XML file that can be imported without further modification:</p> <div class="language- extra-class"><pre class="language-text"><code>proiel tokenize raw_text.txt &gt; new_text.xml
</code></pre></div><p><code>proiel tokenize</code> uses generic tokenisation rules to split paragraphs into sentences and sentences into tokens. It tokenises the text by assuming that any whitespace or punctuation is a token divider, and that periods, colons, semicolons, exclamation marks and question marks (but not commas) are sentence dividers. This is likely to produce unexpected results in some situations, and quite frequently situations if the orthography of the language is very different from that of Latin-like languages. In such cases you should consider writing your own preprocessing script as bad tokenisation will slow down annotation significantly.</p> <p><code>proiel tokenize</code> interprets some symbols as the start of headings and some symbols as delimiting references. The use of these symbols is modelled on Markdown with preambles:</p> <ul><li>A blank line represents a paragraph break.</li> <li>A hash symbol (<code>#</code>) at the start of a line is interpreted as the start of a new <code>div</code>. Any text after the hash symbol is used as the heading of the <code>div</code>.</li> <li>A percentage symbol (<code>%</code>) at the start of a line is interpreted as a metadata variable and value.</li> <li>A section symbol (<code>Â§</code>) anywhere in the text indicates a reference. The reference ends when whitespace is encountered (and this whitespace is not part of the reference).</li> <li>An at symbol (<code>@</code>) anywhere in the text indicates text that cannot be annotated. The text ends when whitespace is encountered (and this whitespace is not part of the text that cannot be annotated).</li></ul> <p>All whitespace is replaced by a single space except for line breaks (carriage return, line feed or both), which are preserved (and replaced by code point <code>U+2028</code>). This behaviour preserves the formatting of poetry and drama but produces undesirable results for prose where line breaks usually do not carry any meaning. For prose it is therefore important to remove any line breaking within paragraphs before running <code>proiel tokenize</code>. Failure to do this before applying <code>proiel tokenize</code> will result in time-consuming corrections later during annotation.</p> <p>Whichever method you use to prepare a PROIEL XML file, you should validate the PROIEL XML file before attempting to import it. This will allow you to correct any syntax errors or inconsistencies before starting the import process. Once the PROIEL XML file passes the validation step, it can be imported. Make sure that you specify the correct environment when importing a text. If you do not specify the environment, the text will be imported into the development environment.</p> <div class="language- extra-class"><pre class="language-text"><code># Validate file
proiel validate new_text.xml

# Import text
RAILS_ENV=production proiel-webapp import text new_text.xml
</code></pre></div><p>Note that if the import process fails, any changes made to the PROIEL Annotator database by the import process will be automatically reverted.</p> <p>TODO: this has not been reimplemented in master: <code>id_map_filename = nil #FIXME</code></p> <p>If your PROIEL XML file already contains ID attributes for sentences, tokens or other objects, these will <em>not</em> be preserved. Due to limitations of the underlying database, PROIEL Annotator has to generate new IDs for these objects. If it is important to keep a record of old and new IDs, you should use the  <code>ID_MAP_FILE</code> on import:</p> <div class="language- extra-class"><pre class="language-text"><code>bundle exec rake proiel:text:import FILE=new_text.xml ID_MAP_FILE=new_text.csv
</code></pre></div><p>The resulting mapping file is a comma-separated file with the object type in the first column, the ID in the XML file in the second column and the new, generated ID in the database in the third column:</p> <div class="language- extra-class"><pre class="language-text"><code>token,268872,2582728
token,268873,2582729
token,268874,2582730
token,268875,2582731
token,862448,2582732
sentence,14783,218784
</code></pre></div><h3 id="exporting-texts"><a href="#exporting-texts" class="header-anchor">#</a> Exporting texts</h3> <p>Texts can be exported from PROIEL Annotator using the <code>proiel-webapp</code> command-line tool. The only supported format is the PROIEL XML, but you can use the <code>proiel</code> command-line tool to convert PROIEL XML to a number of other formats.</p> <p>To export a specific text, add the numeric ID of the text (that is the ID found in the <code>id</code> column in the <code>sources</code> table) and a filename:</p> <div class="language- extra-class"><pre class="language-text"><code>proiel-webapp export text 1 greek-nt.xml
</code></pre></div><p>If you omit the filename, <code>proiel-webapp</code> will infer a filename from the <code>code</code> column in the <code>sources</code> table. For example, if the source with ID 2 has <code>code</code> set to <code>marianus</code>, <code>proiel-webapp</code> will use the filename <code>marianus.xml</code>. If you omit the ID as well, <code>proiel-webapp</code> will export all texts in the database and infer filenames them.</p> <p>All texts are exported to the current working directory.</p> <p>Note that texts are not automatically validated as part of the export process. You should therefore manually validate each exported text using the <code>proiel</code> command-line tool:</p> <div class="language- extra-class"><pre class="language-text"><code>proiel validate greek-nt.xml
</code></pre></div><p>Make sure that you specify the correct environment when exporting texts:</p> <div class="language- extra-class"><pre class="language-text"><code>RAILS_ENV=production proiel-webapp export text 1 greek-nt.xml
</code></pre></div><p>If you do not specify an environment, the text will be exported from the development environment.</p> <h3 id="deleting-texts"><a href="#deleting-texts" class="header-anchor">#</a> Deleting texts</h3> <p>TODO</p> <h3 id="older-versions"><a href="#older-versions" class="header-anchor">#</a> Older versions</h3> <p>In PROIEL Annotator 1.x importing and exporting texts was done using <code>rake</code> tasks:</p> <div class="language- extra-class"><pre class="language-text"><code># Import a text
bundle exec rake proiel:text:import FILE=new_text.xml

# Import a text keeping a record of ID mapping
bundle exec rake proiel:text:import FILE=new_text.xml ID_MAP_FILE=new_text.csv

# Export a text with a specific ID
bundle exec rake proiel:text:export ID=1
</code></pre></div><p>The <code>rake proiel:text:export</code> task infers the filename in the same way as <code>proiel-webapp</code> does for PROIEL Annotator 2.x. If no <code>ID</code> is given, all sources will be exported. Texts are by default placed in <code>public/exports</code>, but this can be overriden with the variable <code>DIRECTORY</code> or by changing the application configuration value <code>config.export_file_path</code>. (Some earlier versions also supported exporting texts directly to other formats by setting the variable <code>FORMAT</code>. <code>proiel convert</code> should be used even if your version supports this as <code>proiel convert</code> is more robust.)</p> <h2 id="exporting-and-importing-other-data"><a href="#exporting-and-importing-other-data" class="header-anchor">#</a> Exporting and importing other data</h2> <p>Most of the maintenance tasks are designed for exporting, importing or deleting one type of object from the database, e.g. the notes that can be attached to tokens, sentences etc. We use comma-separated files for this. They must use UTF-8 encoding, have headers and should have UNIX-style line endings.</p> <p>The following sections list the relevant commands and illustrate the expected file formats for each task.</p> <h3 id="inflections"><a href="#inflections" class="header-anchor">#</a> Inflections</h3> <p>To manipulate pre-loaded inflections, use the following commands:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># Import inflections from data.csv</span>
bin/proiel-webapp <span class="token function">import</span> inflections data.csv

<span class="token comment"># Export inflections to data.csv</span>
bin/proiel-webapp <span class="token builtin class-name">export</span> inflections data.csv

<span class="token comment"># Delete all inflections</span>
bin/proiel-webapp delete inflections
</code></pre></div><p>The file format is illustrated below</p> <div class="language-csv extra-class"><pre class="language-csv"><code><span class="token value">LANGUAGE_TAG</span><span class="token punctuation">,</span><span class="token value">FORM</span><span class="token punctuation">,</span><span class="token value">LEMMA</span><span class="token punctuation">,</span><span class="token value">PART_OF_SPEECH_TAG</span><span class="token punctuation">,</span><span class="token value">FORM</span><span class="token punctuation">,</span><span class="token value">MORPHOLOGY_TAG</span>
<span class="token value">lat</span><span class="token punctuation">,</span><span class="token value">volo</span><span class="token punctuation">,</span><span class="token value">volo#1</span><span class="token punctuation">,</span><span class="token value">V-</span><span class="token punctuation">,</span><span class="token value">volo</span><span class="token punctuation">,</span><span class="token value">1spia----i</span>
<span class="token value">lat</span><span class="token punctuation">,</span><span class="token value">vis</span><span class="token punctuation">,</span><span class="token value">volo#1</span><span class="token punctuation">,</span><span class="token value">V-</span><span class="token punctuation">,</span><span class="token value">vis</span><span class="token punctuation">,</span><span class="token value">2spia----i</span>
<span class="token value">lat</span><span class="token punctuation">,</span><span class="token value">vult</span><span class="token punctuation">,</span><span class="token value">volo#1</span><span class="token punctuation">,</span><span class="token value">V-</span><span class="token punctuation">,</span><span class="token value">vult</span><span class="token punctuation">,</span><span class="token value">3spia----i</span>
<span class="token value">lat</span><span class="token punctuation">,</span><span class="token value">volumus</span><span class="token punctuation">,</span><span class="token value">volo#1</span><span class="token punctuation">,</span><span class="token value">V-</span><span class="token punctuation">,</span><span class="token value">volumus</span><span class="token punctuation">,</span><span class="token value">1ppia----i</span>
<span class="token value">lat</span><span class="token punctuation">,</span><span class="token value">vultis</span><span class="token punctuation">,</span><span class="token value">volo#1</span><span class="token punctuation">,</span><span class="token value">V-</span><span class="token punctuation">,</span><span class="token value">vultis</span><span class="token punctuation">,</span><span class="token value">2ppia----i</span>
<span class="token value">lat</span><span class="token punctuation">,</span><span class="token value">volunt</span><span class="token punctuation">,</span><span class="token value">volo#1</span><span class="token punctuation">,</span><span class="token value">V-</span><span class="token punctuation">,</span><span class="token value">volunt</span><span class="token punctuation">,</span><span class="token value">3ppia----i</span>
<span class="token value">lat</span><span class="token punctuation">,</span><span class="token value">volo</span><span class="token punctuation">,</span><span class="token value">volo#2</span><span class="token punctuation">,</span><span class="token value">V-</span><span class="token punctuation">,</span><span class="token value">volo</span><span class="token punctuation">,</span><span class="token value">1spia----i</span>
</code></pre></div><h3 id="notes"><a href="#notes" class="header-anchor">#</a> Notes</h3> <p>To manipulate notes, use the following commands:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># Import notes from data.csv</span>
bin/proiel-webapp <span class="token function">import</span> notes data.csv

<span class="token comment"># Export notes to data.csv</span>
bin/proiel-webapp <span class="token builtin class-name">export</span> notes data.csv

<span class="token comment"># Delete all notes</span>
bin/proiel-webapp delete notes
</code></pre></div><p>The file format is illustrated below</p> <div class="language-csv extra-class"><pre class="language-csv"><code><span class="token value">ORIGINATOR_TYPE</span><span class="token punctuation">,</span><span class="token value">ORIGINATOR_ID</span><span class="token punctuation">,</span><span class="token value">NOTABLE_TYPE</span><span class="token punctuation">,</span><span class="token value">NOTABLE_ID</span><span class="token punctuation">,</span><span class="token value">CONTENTS</span>
<span class="token value">User</span><span class="token punctuation">,</span><span class="token value">17</span><span class="token punctuation">,</span><span class="token value">Sentence</span><span class="token punctuation">,</span><span class="token value">7242</span><span class="token punctuation">,</span><span class="token value">Direct speech within direct speech</span>
</code></pre></div><h3 id="older-versions-2"><a href="#older-versions-2" class="header-anchor">#</a> Older versions</h3> <p>Older versions of PROIEL Annotator used <code>rake</code> tasks to perform these operations. It also supported some other tasks which are now performed by the <code>proiel</code> tool. A list of all the maintenance tasks can be obtained by running the command <code>rake -T proiel</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>$ rake -T proiel
rake proiel:dictionary:import             # Import a PROIEL dictionary.
rake proiel:history:prune:attribute       # Prune an attribute from history.
rake proiel:morphology:force_manual_tags  # Force manual morphological rules.
...
</code></pre></div><p>A number of these tasks are explained in more detail below.</p> <h2 id="proiel-morphology-reassign"><a href="#proiel-morphology-reassign" class="header-anchor">#</a> <code>proiel:morphology:reassign</code></h2> <p>This task is used to change all occurrences of a particular value of a
morphological field to another value in the <code>tokens</code> table, i.e. to
change the <code>source_morphology</code> field. For example</p> <div class="language- extra-class"><pre><code>$ rake proiel:morphology:reassign FIELD=voice FROM=o TO=p
...
</code></pre></div><p>will replace the value <code>p</code> with <code>o</code> in the <code>voice</code> field. No further
restrictions on the operation can be given, so the task is only useful
for keeping tag set and database synchronised.</p> <h2 id="proiel-morphology-force-manual-tags"><a href="#proiel-morphology-force-manual-tags" class="header-anchor">#</a> <code>proiel:morphology:force_manual_tags</code></h2> <p>This task will apply the morphology set out in manually crafted morpholgical rules
to all tokens that match the criteria in the rules for given sources. This can be
used to overwrite bad annotations once the manually crafted morphological rules are
deemed to be entirely correct.</p> <div class="language- extra-class"><pre><code>$ rake proiel:morphology:force_manual_tags SOURCES=perseus-vulgate-synth
 INFO manual-tagger: Working on source perseus-vulgate-synth...
ERROR manual-tagger: Token 251733 (sentence 12871) 'in': Tagged with closed class morphology but not found in definition.
ERROR manual-tagger: Token 251782 (sentence 12878) 'quia': Tagged with closed class morphology but not found in definition.
</code></pre></div><h2 id="proiel-history-prune-attribute"><a href="#proiel-history-prune-attribute" class="header-anchor">#</a> <code>proiel:history:prune:attribute</code></h2> <p>This task is used to completely remove all entries that refer to particular
attribute from the history. This is occasionally useful when changing the database
schema when columns are removed and the data lost by the change is of no future value.</p> <p>Example:</p> <div class="language- extra-class"><pre><code>$ rake proiel:history:prune:attribute MODEL=Token ATTRIBUTE=morphtag_source
Removing attribute Token.morphtag_source from audit 17695
Removing attribute Token.morphtag_source from audit 17696
Removing attribute Token.morphtag_source from audit 17698
Removing attribute Token.morphtag_source from audit 17701
Removing attribute Token.morphtag_source from audit 17702
Removing attribute Token.morphtag_source from audit 17703
...
</code></pre></div><h2 id="proiel-validate"><a href="#proiel-validate" class="header-anchor">#</a> <code>proiel:validate</code></h2> <p>This task validates the entire database, first using model validations for each, then
using secondary constraints that have not been implemented in the models. Some of these
are designed to be auto-correcting, e.g. orphaned lemmata are cleaned up by this task.</p> <p>The task is intended to be run whenever the annotation scheme is modified to ensure that
all annotation remains valid.</p> <h2 id="proiel-notes-import"><a href="#proiel-notes-import" class="header-anchor">#</a> <code>proiel:notes:import</code></h2> <p>This task can be used for mass-import of notes. The data file should
be provided in the argument <code>FILE</code> and should be a comma-separated
file on the following format:</p> <div class="language- extra-class"><pre><code>User,2,Sentence,12345,&quot;a long comment here&quot;
</code></pre></div><h2 id="proiel-dependency-alignments-import"><a href="#proiel-dependency-alignments-import" class="header-anchor">#</a> <code>proiel:dependency_alignments:import</code></h2> <p>This task can be used for mass-import of dependency alignment. The data file should be
a comma-separated file on the following format:</p> <div class="language- extra-class"><pre><code>ALIGN,12345,67890
TERMINATE,12346,2
</code></pre></div><p>This will align the dependency subgraph for token 67890 (in the secondary source)
with the dependency subgraph for token 12345 (in the primary source). It will then
terminate the dependency subgraph for token 12346 (in the primary source) with
respect to the secondary source with ID 2.</p> <h2 id="proiel-semantic-tags-import-and-proiel-semantic-tags-export"><a href="#proiel-semantic-tags-import-and-proiel-semantic-tags-export" class="header-anchor">#</a> <code>proiel:semantic_tags:import</code> and <code>proiel:semantic_tags:export</code></h2> <p>These tasks can be used for mass-import and -export of semantic tags. The data file is
expected to be a comma-separated file with the following fields:</p> <ul><li>Taggable type (string, either <code>Token</code> or <code>Lemma</code>)</li> <li>Taggable ID (integer)</li> <li>Attribute tag (string)</li> <li>Attribute value tag (string)</li></ul> <p>All attributes and attribute values must already have been defined; so must any
referred token or lemmma.</p> <p>Example:</p> <div class="language- extra-class"><pre><code>$ rake proiel:semantic_tags:export FILE=tags.csv
$ cat tags.csv
Token,266690,animacy,-
Lemma,2256,animacy,+
...
$ rake proiel:semantic_tags:import FILE=tags.csv
</code></pre></div><h2 id="proiel-inflections-import"><a href="#proiel-inflections-import" class="header-anchor">#</a> <code>proiel:inflections:import</code></h2> <p>This task imports inflections. The data should be a comma separated
files with the following fields:</p> <ul><li>Language code</li> <li>Lemma and optional variant number separated by a hash mark (#)</li> <li>Part of speech</li> <li>Inflected form</li> <li>Positional tag(s) with morphology</li></ul> <p>Example:</p> <div class="language- extra-class"><pre><code>got,and-haitan,,andhaihaist,V-2suia-----
</code></pre></div><h2 id="proiel-inflections-export"><a href="#proiel-inflections-export" class="header-anchor">#</a> <code>proiel:inflections:export</code></h2> <p>This task exports inflections. The format is the same as for
<code>proiel:inflections:import</code>.</p> <h2 id="proiel-bilingual-dictionary-create"><a href="#proiel-bilingual-dictionary-create" class="header-anchor">#</a> <code>proiel:bilingual_dictionary:create</code></h2> <p>This task creates a dictionary of lemmas in the specified source with
their presumed equivalents in the Greek original. The <code>SOURCE</code> should be
the ID of the source to process. The lemmas will be referred to
using the database ID unless <code>FORMAT</code>=<code>human</code> is set, in which case their
export_form will be used instead. The dictionary is written to the
specified <code>FILE</code>.</p> <p>The <code>METHOD</code> argument specifies the statistical method used to compute
collocation significance. The default is <code>zvtuuf</code>, which is a log
likelihood measure. Other options are <code>dunning</code>, which is Dunning's
log likelihood measure, and <code>fisher</code>, which is Fisher's exact
test. The latter method requires a working installation of R and the
rsruby gem.</p> <p>The format of the resulting dictionary file is the following. The
first line contains the number of aligned chunks (i.e. Bible verses)
the dictionary was based on. Next there is one line for each lemma of
the processed source, containing comma separated data: first, the
lemma export form or ID, next the frequency of that lemma, and then
the thirty most plausible Greek original lemmas (most plausible
first). For each Greek lemma, the export form or ID is given, followed
by semi-colon separated information about that lemma and its
co-occurrence with the given translation lemma. The following
information is available:</p> <ol><li><code>cr</code> = a measure combining the rank of the translation lemma as a
correspondence to the original lemma, and the original lemma as a
correspondence to the translation lemma. The value is 1 divided by
the square root of the product of the two ranks, so if both lemma's
are the best correspondences to each other, the value will be
1.0. This is the value used to rank the translations.</li> <li><code>sign</code> = the
log likelihood or significance value returned by the given
statistical test. This is used to produce the ranks that go into <code>cr</code>.</li> <li><code>cooccurs</code> = the number of times the two lemmas co-occur in the same
aligned chunk.</li> <li><code>occurs</code> = the number of times the given Greek
lemma occurs in the chunks that went into the creation of the
dictionary.</li></ol> <p>Thus</p> <div class="language- extra-class"><pre><code>misso,freq=42,á¼€Î»Î»Î®Î»Ï‰Î½{cr=1.0;sign=13.6667402646542;cooccurs=33;occurs=36}
</code></pre></div><p>means that the Gothic lemma <code>misso</code> occurs 42 times, its best Greek
equivalent is á¼€Î»Î»Î®Î»Ï‰Î½, their combined rank is 1.0, the log likelihood
value of the collocation is 13.66, the two lemmas co-occur 33 times,
and á¼€Î»Î»Î®Î»Ï‰Î½ occurs 36 times.</p> <h2 id="proiel-token-alignments-set"><a href="#proiel-token-alignments-set" class="header-anchor">#</a> <code>proiel:token_alignments:set</code></h2> <p>This tasks generates token alignments, guessing at which Greek tokens
correspond to which translation tokens. The task requires that a
dictionary file (on ID format) is present in the lib directory, and
the name of this file must be given as the value of the <code>DICTIONARY</code>
argument.</p> <p>Either a <code>SOURCE</code> or a (sequence of) <code>SOURCE_DIVISION</code>(s) to be
aligned must be specified. SOURCE_DIVISION can take single
source_division ID or a range of IDs (e.g. 346--349). The default
<code>FORMAT</code> is <code>db</code>, which writes the alignments to the database. Other
formats are <code>csv</code> and <code>human</code>, which write the alignments on CSV or
human-readable format to standard out, or to the specified <code>FILE</code>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/proiel/dev.syntacticus.org/edit/master/docs/development-guide/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last updated:</span> <span class="time">2/9/2022, 6:35:48 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e520ee65.js" defer></script><script src="/assets/js/2.6b092d03.js" defer></script><script src="/assets/js/9.720f233a.js" defer></script>
  </body>
</html>
